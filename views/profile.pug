html
	head
		include includes/header.pug
	body
		div.container
			div.row
				div.col.s12
					H2 Welcome, #{currentUser.username}!
					h3= message			
			div.row.rowbackgr
				div.col.s12
					h5 
						| Here you can view and edit your information. Only you can see this page. To see how other members view your profile, 
						a(href='publicprofile?id=' + currentUser.id) click here
						| .

					br
					
			div.row
				div.col.s12
					h4 Profile details that can not be changed
					
			div.row.rowbackgr
				div.col.s12.m6.l6
					p 
						strong Your username: 
						| #{currentUser.username}
						br 
						strong Your team: 
						| you are a #{currentUser.kindOfPerson}
						br
						strong Your current score: 
						| #{currentUser.score}
					div.highlighted
						p 
							i.medium.material-icons.bulbleft lightbulb_outline
							|Get a higher score by 
							a(href='goaloverview') completing more goals
							br
							| View how you rank on the 
							a(href='leaderboard') leaderboard 
							//- Nog een unordered list van maken, maar die is momenteel niet zichtbaar in materialize
					
		
				div.col.s12.m6.l6
					p
						strong Your finished goals:
					each thing in completedGoals
						p 
							i.tiny.material-icons done 
							| #{thing.goal.title}: #{thing.goal.points} points.
					//- Nog een unordered list van maken, maar die is momenteel niet zichtbaar in materialize

			div.row
				div.col.s12
					h4 Edit profile

			div.row.rowbackgr
				div.col.s12.m6.l6
					if (currentUser.kindOfPerson == 'cat' && currentUser.profifo.length === 0)
						img(src='images/catperson.jpg' class='circle profifo')

					else if (currentUser.kindOfPerson == 'dog' && currentUser.profifo.length === 0)
						img(src='images/dogperson.jpg' class='circle profifo')

					else 
						img(src=currentUser.profifo, class='circle profifo')

				div.col.s12.m6.l6
					p
						strong Profile picture
						br
						em Change your profile picture
						form(action='/newpic' method='post' id='uploadForm' enctype="multipart/form-data")
							| Select a file: 
							input(type='file', name='newpic')
							br
							input(type='submit')
						div.highlighted
							p 
								i.medium.material-icons.bulbright lightbulb_outline
								| Wouldn't it be great for people to see your face when they check who beat them in the leaderboard?



			div.row.rowbackgr
				div.col.s12
					p 
						strong Bio
					h5 "#{currentUser.bio}"
					form(action='/newbio' method='post' autocomplete='off')
						label Change your bio
						input(name='newbio' type='text' placeholder='Your new bio' required)
						input(type='submit' value='change bio' id='submitnewbio')
					br

			div.row.rowbackgr
				div.col.s12
					p 
						strong Date of birth 
					h5 #{currentUser.dob}

					form(action='/newdob' method='post' autocomplete='off')
						label Change your date of birth
						input(name='newdob' type='date' required)
						input(type='submit' value='change date of birth' id='submitnewdob')
					br

			div.row.rowbackgr
				div.col.s12
					p
						strong Email address 
					h5 #{currentUser.email}
					form(action='/newemail' method='post' autocomplete='off')
						label Change your email address
						input(name='newemail' type='email' placeholder='yournew@emailadres.com' min-length = '3' required)
						input(type='submit' value='change e-mail' id='submitnewemail')
					br

			div.row.rowbackgr
				div.col.s12
					p
						strong Password
					p To change your password, first please add your old password.
					form(action='/newpassword' method='post' autocomplete='off')
						label Change password
						input(name='oldpassword' type='password' placeholder='Your old password' required)
						input(name='newpassword' type='password' placeholder='Your new password' min-length = '8' required)
						input(name='newpassword2' type='password' placeholder='Confirm your new password' min-length = '8' required)
						input(type='submit' value='change password' id='submitnewpassword')
					br

			div.row
				div.col.s12
					h4 I want to delete my profile

			div.row.rowbackgr
				div.col.s12
					p Are you sure? We'd hate to see you go!
					p 
						| This action is irreversible.
						br
						| We require your password before confirmation
					form(action='/deleteaccount' method='post' autocomplete='off')
						label Password
						input(name='oldpassword' type='password' placeholder='Your password' required)
						input(type='submit' value='DELETE' id='submitnewpassword')
					br

		main
		include includes/footer.pug


